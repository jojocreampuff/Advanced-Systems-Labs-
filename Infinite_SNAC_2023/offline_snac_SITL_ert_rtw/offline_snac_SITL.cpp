//
// Academic License - for use in teaching, academic research, and meeting
// course requirements at degree granting institutions only.  Not for
// government, commercial, or other organizational use.
//
// File: offline_snac_SITL.cpp
//
// Code generated for Simulink model 'offline_snac_SITL'.
//
// Model version                  : 3.14
// Simulink Coder version         : 24.1 (R2024a) 19-Nov-2023
// C/C++ source code generated on : Fri Jun 21 17:48:17 2024
//
// Target selection: ert.tlc
// Embedded hardware selection: ARM Compatible->ARM Cortex
// Code generation objectives: Unspecified
// Validation result: Not run
//
#include "offline_snac_SITL.h"
#include "offline_snac_SITL_types.h"
#include "rtwtypes.h"
#include <math.h>
#include "offline_snac_SITL_private.h"

extern "C"
{

#include "rt_nonfinite.h"

}

#include "rt_defines.h"

// Block signals (default storage)
B_offline_snac_SITL_T offline_snac_SITL_B;

// Block states (default storage)
DW_offline_snac_SITL_T offline_snac_SITL_DW;

// Real-time model
RT_MODEL_offline_snac_SITL_T offline_snac_SITL_M_ = RT_MODEL_offline_snac_SITL_T
  ();
RT_MODEL_offline_snac_SITL_T *const offline_snac_SITL_M = &offline_snac_SITL_M_;

// Forward declaration for local functions
static void offline_snac_SITL_PWM_setupImpl(px4_internal_block_PWM_offlin_T *obj,
  boolean_T armPWM, boolean_T forceFailsafe);
real_T rt_atan2d_snf(real_T u0, real_T u1)
{
  real_T y;
  if (rtIsNaN(u0) || rtIsNaN(u1)) {
    y = (rtNaN);
  } else if (rtIsInf(u0) && rtIsInf(u1)) {
    int32_T tmp;
    int32_T tmp_0;
    if (u0 > 0.0) {
      tmp = 1;
    } else {
      tmp = -1;
    }

    if (u1 > 0.0) {
      tmp_0 = 1;
    } else {
      tmp_0 = -1;
    }

    y = atan2(static_cast<real_T>(tmp), static_cast<real_T>(tmp_0));
  } else if (u1 == 0.0) {
    if (u0 > 0.0) {
      y = RT_PI / 2.0;
    } else if (u0 < 0.0) {
      y = -(RT_PI / 2.0);
    } else {
      y = 0.0;
    }
  } else {
    y = atan2(u0, u1);
  }

  return y;
}

real_T rt_powd_snf(real_T u0, real_T u1)
{
  real_T y;
  if (rtIsNaN(u0) || rtIsNaN(u1)) {
    y = (rtNaN);
  } else {
    real_T tmp;
    real_T tmp_0;
    tmp = fabs(u0);
    tmp_0 = fabs(u1);
    if (rtIsInf(u1)) {
      if (tmp == 1.0) {
        y = 1.0;
      } else if (tmp > 1.0) {
        if (u1 > 0.0) {
          y = (rtInf);
        } else {
          y = 0.0;
        }
      } else if (u1 > 0.0) {
        y = 0.0;
      } else {
        y = (rtInf);
      }
    } else if (tmp_0 == 0.0) {
      y = 1.0;
    } else if (tmp_0 == 1.0) {
      if (u1 > 0.0) {
        y = u0;
      } else {
        y = 1.0 / u0;
      }
    } else if (u1 == 2.0) {
      y = u0 * u0;
    } else if ((u1 == 0.5) && (u0 >= 0.0)) {
      y = sqrt(u0);
    } else if ((u0 < 0.0) && (u1 > floor(u1))) {
      y = (rtNaN);
    } else {
      y = pow(u0, u1);
    }
  }

  return y;
}

static void offline_snac_SITL_PWM_setupImpl(px4_internal_block_PWM_offlin_T *obj,
  boolean_T armPWM, boolean_T forceFailsafe)
{
  obj->isMain = true;
  pwm_open(&obj->actuatorAdvertiseObj, &obj->armAdvertiseObj);
  obj->servoCount = 8;
  if (armPWM) {
    pwm_arm(&obj->armAdvertiseObj);
    obj->isArmed = true;
  } else {
    pwm_disarm(&obj->armAdvertiseObj);
    obj->isArmed = false;
  }

  obj->channelMask = 15;
  if (obj->isMain) {
    if (forceFailsafe) {
      pwm_disarm(&obj->armAdvertiseObj);
    } else {
      pwm_arm(&obj->armAdvertiseObj);
    }
  }
}

// Model step function
void offline_snac_SITL_step(void)
{
  real_T tmp;
  real_T tmp_0;
  real_T tmp_1;
  real_T tmp_2;
  int32_T i;
  int32_T i_0;
  int32_T i_1;
  boolean_T b_varargout_1;
  boolean_T b_varargout_1_0;
  boolean_T b_varargout_1_1;
  static const real_T y[18] = { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0002, 0.0, 0.0, 0.0, 0.0002, 0.0, 0.0, 0.0, 0.0002 };

  static const real_T tmp_3[504] = { 624.713258059443, 491340.84442181373,
    1.3784623831575007, 9.0395118161963683, 70954.876078259127,
    0.34738597751070938, 2.0703172225170663, 3.4523493500935519E-5,
    -0.0010626997863060412, -4.6945908139475E-5, 0.00018592905238738053,
    1.0285518889891001E-5, 9.8347850856501912E-6, -0.00024558169673317347,
    9.1794192881996967E-6, -0.00029621443259820823, 4.2186896497511778E-5,
    7.811278788754328E-5, -0.0087959492270697631, 2.835241150901456E-6,
    -6.8411435679307633E-5, 1.7782511768114198E-5, 2.9084798783668077E-7,
    -2.3975642053944046E-7, -7.7072448379422807E-5, -3.8267800757260861E-6,
    1.9505591635135812E-8, 7.465546482526158E-6, 6.5704910803865961E-8,
    -1.2166222389366758E-6, 1.5577326879114516E-9, -2.0552709904028737E-8,
    -7.0701315055029888E-8, 4.008623496604297E-8, -4.1378561757392461E-6,
    -1.8946991209241149E-9, -3.1756526260658133E-7, -9.2572299967491393E-7,
    9.61225676179334E-9, -2.2604780850713986E-5, 4.1220336052448625E-7,
    -1.3033822607491317E-7, -2.7836100182431382E-7, 4.4281159620854886E-6,
    -0.00018425069882538293, 2.601732234515991E-9, -0.00079891528820281988,
    -5.2165835671505975E-9, -1.2103842166478663E-6, -7.5052443186001747E-8,
    2.3924350623204089E-7, -3.1226767312273785E-8, -8.26645305378481E-5,
    5.5796445531321472E-8, 2.4536637812026803E-5, 2.3394852290113716E-8,
    -0.019045291645259251, -0.0011548018934742805, -6.7335511179629086E-6,
    2.4545601794491298E-9, 5.787633185891365E-7, 2.1455490598489767E-10,
    -0.0010157871615920427, -1.4164525281191338E-5, -5.5728289239048836E-7,
    -1.5756768921653136E-7, 6.1249459626733037E-8, -2.2073807498471966E-6,
    -1.4190914147864679E-7, 1.4624313383293828E-8, -3.7051066163499759E-7,
    -3.5710342413283812E-5, -3.6427370376560188E-8, -7.4879377235243611E-7,
    -5.2257424359990181E-7, 3.5060722611330357E-6, 7.1263615443383861E-9,
    -1.2109213373873955E-9, -8.7444355796576322E-8, -5.5529895376452687E-8,
    -1.6989054748193956E-7, -1.0470150725860161E-5, 2.0628144617500703E-6,
    -1.2874833381832279E-8, 107.00470035858385, 0.76266804979071479,
    491340.25541087583, -39.864407237105354, 0.20572461430346572,
    70954.74540421502, -9.2478452890652729, -3.7791202404415268E-5,
    8.6672120994857267E-5, 5.38122570690037E-6, 9.3906615679448564E-5,
    -1.1366699960628215E-5, -9.1761589529541111E-6, 2.1080529845976821E-5,
    8.63198822331921E-6, 4.7288003012705759E-5, 2.226886309251436E-5,
    4.6647952164036014E-5, -0.0015243749157732283, -3.0671594878588539E-6,
    1.1173032936548918E-5, 1.087177295613231E-5, -1.9078317300316272E-8,
    3.7907388828618459E-8, 7.8969411987488459E-5, 5.30172354524009E-6,
    3.2331359027905837E-8, -1.8027071510940241E-5, 1.0655470775256336E-7,
    2.034023954057429E-6, -2.9826215227440045E-9, 5.8029398607822676E-9,
    -4.7513403917679928E-9, -1.0445711677518383E-8, 4.1993612394724162E-6,
    2.7167125532680973E-8, 5.06620253352034E-7, 1.2256079777414291E-6,
    8.2911511137252565E-8, 2.5366594436965943E-5, -9.72777998703575E-7,
    2.6636782000102174E-7, 4.6590117532572915E-7, -6.4098110977704687E-6,
    -3.5383531640989929E-5, -4.5577995948602562E-10, -0.00015411522771284378,
    7.0510722750330238E-10, 1.3497721637215316E-6, 1.1696226953890234E-7,
    -3.4503293854316859E-7, 6.0879595963656811E-8, 9.28781600170318E-6,
    1.1614863713693748E-7, 1.535255275837359E-5, 7.1170591955699924E-8,
    -0.0032975219057338862, -0.00022377243018769451, 8.0779667144071306E-7,
    3.3767867962481409E-9, 1.2261015747834324E-6, 3.0939874876544075E-9,
    -0.00017619718948403643, -2.70791275480021E-6, -2.4268676223600679E-6,
    2.4493703586445947E-8, -1.9956389000694066E-8, 3.2794613861892657E-6,
    -5.598654041457947E-7, -8.8104748584978665E-7, -6.5331606301022135E-7,
    3.6423564079135127E-5, 1.1659737765494477E-9, 1.4779362941377104E-6,
    7.5699309705485816E-7, -8.3801139129965411E-6, -6.6940458109976483E-9,
    -2.0330528274143883E-7, -1.497214474786642E-7, -2.4118344830933205E-7,
    3.3886350232785046E-7, 1.1700558066231523E-5, -2.973834941198366E-6,
    -5.5452233832599344E-8, 1008.1310648224397, -12.065028371518933,
    -11.403999964794622, 112293.16352995121, -3.3494242597385155,
    -3.259904441081229, 20579.614973229618, 0.00022663641443567819,
    0.0054013381698726718, 0.00030032656656214763, -0.013529165718454323,
    7.4939081984371652E-5, 6.4658179695739859E-5, 0.0012487388076954866,
    -0.00034985784666764677, 0.0010133533584445018, -0.0031102748233588296,
    -0.00441682174754039, -0.0076487492575283977, 2.212502413937001E-5,
    0.00023516709874262258, -0.0010153754999746576, 1.7883756457823219E-6,
    -2.2841537999975934E-6, 0.00052207454860148854, -5.2205994556434535E-5,
    -3.7843167083263736E-7, -0.00023986472586472825, -1.2408735150386162E-6,
    4.621116139570625E-5, 8.6099549269494188E-8, -1.739909638628689E-7,
    -5.7340873241634539E-7, 3.6629062618610037E-7, 2.7218527113088434E-5,
    -3.7272076319588006E-7, -6.4503778726348464E-6, -1.2026085990831273E-5,
    -1.2861224114125446E-6, 0.00014271782095503032, -1.2935308941591587E-5,
    4.7422614398879759E-6, 1.0613144693887551E-5, -3.3593860736636129E-5,
    -0.00046097323114513503, 2.4708539865606026E-8, -0.0020084311844013468,
    -4.4564120903189266E-8, 7.3991430896760051E-6, -1.4827226806833001E-6,
    -1.8683734454846616E-6, 1.0817452050723118E-6, 0.000463547567557917,
    -1.4077717469054205E-6, -0.00056272292624561459, -1.6091838311737073E-6,
    -0.017233074326814583, -0.0029173824477615237, 4.9295398254352722E-5,
    -3.6846362685332744E-8, -5.3913995542022833E-5, -3.4244992817598814E-8,
    -0.0008479470431317402, -3.5270578317002955E-5, -3.97541408883496E-5,
    -1.2711837180424417E-6, 7.6355894562026944E-7, -3.7178237384615852E-5,
    -9.0631384539390869E-6, -1.201452100608453E-5, -1.1141660278801961E-5,
    0.0002384415471249392, -3.0473705972196418E-7, 2.9693682203353092E-5,
    -8.55048579161747E-6, -0.00011141567053760502, 1.6377051130703175E-7,
    -2.7483644801642373E-6, -2.5445710480187382E-6, -3.3202135629132703E-6,
    6.80562474033784E-6, 6.4970504989897456E-5, -1.5833570296572715E-5,
    -7.5894240789031531E-7, 182.794474889482, 70463.625983697391,
    0.37391602533722723, 3.3346222391409026, 34692.795906859006,
    0.093430719318392072, 0.76557898573470717, 9.3142504202978414E-6,
    -0.00030159494835400397, -1.3393841206165515E-5, 4.5502631785901948E-5,
    2.8192380432117443E-6, 2.7761231902219904E-6, -6.96301647225461E-5,
    2.8536510180706462E-6, -8.3669403324436662E-5, 1.0264871555656766E-5,
    2.0235874236949667E-5, -0.0026176486952930018, 8.0483551481379228E-7,
    -1.9305038757349166E-5, 4.58798868128869E-6, 9.0404244800542556E-8,
    -6.8990401150200273E-8, -2.098737751190127E-5, -1.0316149809577278E-6,
    5.8043072874301615E-9, 2.8026496866770688E-7, 1.9371398187525352E-8,
    -4.2064390898596628E-7, 4.3849777017329075E-10, -5.9602594163278174E-9,
    -2.068524488292327E-8, 1.2345876720065716E-8, -1.1285529543176144E-6,
    -1.2164528144098427E-9, -8.3199832938348846E-8, -2.513264273803931E-7,
    9.1202624183101216E-10, -6.0421384933111939E-6, 1.9913626430577415E-8,
    -4.4178038235541386E-8, -9.6439219813101146E-8, 7.5507119119831929E-7,
    -5.9445083230030992E-5, 8.2543539386853092E-10, -0.00025783114908974958,
    -1.4961046887791425E-9, -3.2397984601856764E-7, -1.9764174180578246E-8,
    4.1424276564901886E-8, -1.0571233278561053E-8, -2.3654932370005018E-5,
    1.5524510785546741E-8, 7.633870355845039E-6, 4.1427038958956284E-9,
    -0.0056668701767005978, -0.00037279555066636611, -1.9118302723119916E-6,
    7.4726196625065452E-10, 1.84251788588864E-7, 1.6644996171520923E-11,
    -0.00030234740383072717, -4.5685793817127166E-6, -1.6730305394037328E-7,
    -4.62722234688658E-8, 1.8843753943435769E-8, -5.8724581077157048E-7,
    -4.2848434631738044E-8, 1.013944198040124E-8, -1.1180557697495057E-7,
    -9.7314570771432739E-6, -1.0468160993103901E-8, -2.5781942399150811E-7,
    -1.3968752649491553E-7, 1.4985344127332961E-7, 2.0929559287806386E-9,
    8.6836840962124053E-10, -2.6392637045560645E-8, -1.5082290155140221E-8,
    -5.8607815640452922E-8, -2.8010708318982123E-6, 3.5514874029845326E-7,
    -3.5073831926437862E-9, 26.974385329388561, 0.22537567296765226,
    70463.48255918597, -11.128102705539527, 0.061696419127900519,
    34692.765584198125, -2.5814278585143433, -1.1296890232042671E-5,
    1.4517266807027311E-5, 2.0821833301995254E-6, 2.62777145001833E-5,
    -3.4267993884988586E-6, -2.8040065683820782E-6, 3.6573877729621376E-6,
    1.6430123004807258E-6, 1.0775841537805674E-5, 6.1557885753925661E-6,
    1.2893156001686858E-5, -0.00045771363823358669, -9.3249222254525493E-7,
    2.5634167676082449E-6, 2.9820803658608629E-6, -1.0142874345532229E-8,
    8.938801597375228E-9, 2.1377278102297385E-5, 1.3687151148477139E-6,
    9.3244970763543582E-9, -3.1981849019666123E-6, 3.0682981858267279E-8,
    6.63259749954517E-7, -1.1598121978156979E-9, 1.4443951795390763E-9,
    -2.0442908494623285E-9, -4.0200679748732763E-9, 1.13602635915213E-6,
    8.13013761210551E-9, 1.3114061320994595E-7, 3.1685385988369248E-7,
    2.4434356583876563E-8, 6.9646976039246833E-6, -1.7386182360385754E-7,
    8.3722616252783839E-8, 1.5194729441316037E-7, -1.2245796892263211E-6,
    -7.9031481592910935E-6, -2.5108583669310183E-10, -3.4470466426249044E-5,
    1.2241670338426119E-10, 3.7034004521120822E-7, 3.029850795763938E-8,
    -6.6234759628882282E-8, 1.915544441600323E-8, 3.5540100195013332E-6,
    3.3640508048021261E-8, 2.9405964833275658E-6, 2.0841942513690053E-8,
    -0.00099101198254314036, -5.0120031775053286E-5, 3.1250696428354987E-7,
    9.677452846435024E-10, 2.3023782003348454E-7, 9.1927616924401436E-10,
    -5.2857756747478489E-5, -6.0399402216371736E-7, -6.5738199709750383E-7,
    5.9199140116218216E-9, -7.8565627516303821E-9, 8.4827811287356986E-7,
    -1.517110158849615E-7, -2.3892309341149503E-7, -1.7326059902041747E-7,
    9.8566493711737818E-6, -1.9390788042948848E-10, 4.7159897457687295E-7,
    1.9597340878722541E-7, -1.4925555923882426E-6, -2.4715691889941822E-9,
    -5.5171202952398462E-8, -3.9754970225687017E-8, -6.435798897405268E-8,
    1.0810157444243147E-7, 3.2115157740920271E-6, -5.6952262104040793E-7,
    -1.4816297316531243E-8, 49223.980170990922, -2.8148808939827119,
    -2.638126797789933, 20471.526700030783, -0.78360666767859077,
    -0.75417595693372852, 26429.371687964609, 5.1414576282202831E-5,
    0.0012448546101763627, 6.819323034801909E-5, -0.003081445732935768,
    1.7063312091463118E-5, 1.4749295034282009E-5, 0.00028785771821178776,
    -7.9164961521209661E-5, 0.00023577466363731986, -0.00070841540318892539,
    -0.0010070167067457059, -0.0016510140199421908, 5.0612501623539856E-6,
    5.4726434200908624E-5, -0.00023150396894475116, 4.0779017146157733E-7,
    -5.1870574631849391E-7, 0.00011910550495624, -1.1633254822912398E-5,
    -8.47439515969835E-8, -5.5868401590922891E-5, -2.7792324074099934E-7,
    1.0435659373672641E-5, 1.9638746140170135E-8, -3.9605888314172952E-8,
    -1.3084339291686919E-7, 8.3512517628731629E-8, 6.2108724189545077E-6,
    -8.4156556552161662E-8, -1.4426673804310168E-6, -2.6800336545290272E-6,
    -2.8976141649479289E-7, 3.26466661732226E-5, -3.0116245856526319E-6,
    1.0745483854507358E-6, 2.3967922724997808E-6, -8.0473469273576788E-6,
    -0.00010694331675849223, 5.6801485441826493E-9, -0.00046590128034958812,
    -1.017817185344479E-8, 1.6931289455213056E-6, -3.3163370365075434E-7,
    -4.4650141761653912E-7, 2.4510570761243827E-7, 0.00010512362579509541,
    -3.1590871315386567E-7, -0.00012714660129989352, -3.6225596916928065E-7,
    -0.0037262333135666971, -0.00067668789405601838, 1.1210789475490853E-5,
    -8.23807659185329E-9, -1.2210219145542133E-5, -7.7275080884884684E-9,
    -0.00018269633232637441, -8.1833367802566223E-6, -9.1126148131950057E-6,
    -2.8936834723950184E-7, 1.7405547284583175E-7, -8.3015703533870854E-6,
    -2.0779948325499236E-6, -2.7588178933128624E-6, -2.5622207368738988E-6,
    5.4403477525211174E-5, -6.9565458863984811E-8, 6.7173326096656875E-6,
    -1.9093111856219194E-6, -2.5945387983795743E-5, 3.7344554848044845E-8,
    -6.3122001869422447E-7, -5.852612557234954E-7, -7.6503527874442194E-7,
    1.5396832426748522E-6, 1.4864424557546597E-5, -3.7884045521541617E-6,
    -1.7490642157337162E-7 };

  static const real_T y_0[18] = { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    -0.0004, 0.0, 0.0, 0.0, -0.0004, 0.0, 0.0, 0.0, -0.0004 };

  static const real_T tmp_4[504] = { -126.58204672196075, 381734.30602810479,
    934.37701940189811, 1728.622236223797, 21266.839864436359,
    -69.912202227032651, -89.968441133251261, 2507.1867173854189,
    2014.3155800031172, -520.38581661562512, -112729.31108470829,
    29.63824493851228, -207.25806834396354, 605.93853491113657,
    -213.95036420334498, 327.301200011186, -13372.090647837471,
    19681.272424855018, 31.24231798218964, -162.17991261402651,
    3.9403525531437325, 91.426060624949457, -29783.864794664278,
    5213.6409419844267, -23867.641574249054, -6131.8109604174833,
    -413.0185246098452, 3449.3219268689072, 452.02071347983815,
    -6143.4081696570556, 668.89870145096143, 678.80592498040755,
    -1.5723020177975602, -1460.1396658235533, -1305.6967346586578,
    557.47081940374619, -181.02817474956456, 808.6569280626511,
    -1401.6209168933381, -1302.6175718141226, -266.97516775144618,
    -70.785991687301291, 901.5727790786251, 770.28839060633868, -36.528721405657,
    -212.96078610183486, 569.97006862148976, -223.26634175832541,
    224.25713624290574, -82.069432522569116, 80.826980993010523,
    169.52785193765962, -53.284759739102022, -10512.293979751426,
    -596.69965626769772, -6442.8686960928835, 2649.6204643491137,
    -4954.9160531540356, 80.359365363997824, 266.82632215890061,
    -77.631794943108929, -61.980245358332994, -146.48225537586032,
    -81.13513585269385, 1376.4275215261048, -970.113816638466,
    2194.1849153434823, 351.8335322009321, -514.75084411461182,
    1004.5933500497976, 298.313922910776, -14633.413113015298,
    426.60248575835482, 1343.8661234837182, -479.3942332602291,
    -237.67686514313917, -58.26870849653011, 515.964990745841,
    266.08655783485233, 84.946383212096734, -1021.062782212814,
    -203.92725143840354, 444.69500714400857, 13.863071278185885,
    219.07614589925862, -109.10161930437521, 401959.62812137138,
    -863.60654617083264, -199.42952782279448, 28480.109922962925,
    199.36357623401767, 3707.6933935964275, -120862.55018143637,
    -378.39011351305578, 286.63255075537791, -195.17835876060636,
    192.54945539816478, -12646.566957042909, -130.38107678798391,
    -8348.0691631167629, 185.18610052493707, 188.94792887246805,
    -299.39836012529281, 22.393409425638914, 421.81490722040172,
    6.345953944731952, -6583.0389513170439, -26304.55306323128,
    -1713.7394344226764, -344.17804986786723, 152.13460748948825,
    -63204.243018145287, 482.45403468911417, 4444.5247901507009,
    -185.02258150338133, 24.705604026196891, -1092.3049567159849,
    331.48686975865235, 231.57090310532865, 459.01503933538919,
    -13.762344840308645, 98.902524238212848, -962.2479899575751,
    -219.24928707058453, 672.03834555036076, 346.94063326862067,
    -1044.5462153968847, -4208.0202513617478, -2.5375870507552989,
    -71.654814436587444, -712.67433732359666, -6.9818148444077472,
    231.22159250954979, 38.248938091255987, 259.60583576993827,
    91.915102641404346, -25.452242193244942, -361.37078274756425,
    479.30051015511316, -5422.5310598938149, 860.890073503745,
    92.842448612993422, -31.888049026867257, 18.119932016712657,
    41.666567712281207, 53.080001788542717, 12.073556299873291,
    -39.433513597485785, 952.74813053148569, -5539.7830349833912,
    -348.905115422112, -37.684413972531196, 376.94875392080081,
    -38.82500288200513, 545.15686847436518, 589.86982611256087,
    1078.2764862599611, -987.7776237673055, -274.74044657966851,
    3966.2831519177776, -139.30280204412483, -321.13671319889511,
    -141.47787835833691, 106.79008455028607, 145.34626935913374,
    -19.281001168176914, 434.1624712702187, 275.42914524751495,
    -530.78600757904837, -700.35234451409292, 1214.7207986468993,
    415384.31454482244, 1.8773966111037588, -68.926059585032419,
    35749.466125268365, -111171.28659648664, 318.16411117068321,
    214.00110823139784, -2023.05546595814, 20433.736042748649,
    -7502.3227785066247, -216.26203655202349, 271.81436354563192,
    -302.271259340713, 239.44607514604232, 225.21961814320909,
    131.55294404750467, 183.54497124641929, 73.374166924447181,
    -31.150724109128614, 2990.2170936331413, -614.702277353581,
    519.82376345157149, -11893.288030801594, -21.613051397608753,
    -1061.6180490403519, -344.70436324015697, -55148.150289204452,
    -104.4557288096246, -388.12438024977882, -276.59556067316277,
    1179.7278699963108, -70.299812145406335, -120.30051237516821,
    136.44561082824464, -8431.112279394476, 1429.5830287276185,
    -52.320124996884168, 420.80105244198404, 28.496757958002718,
    1985.2561214526104, 707.69062252787921, -480.58288747161043,
    113.14769226972017, -471.93953957966113, 32.727797711489671,
    -40.680224554790868, 154.49863740439554, -255.49296814602545,
    -202.54175411658798, 1724.6940515839613, 1272.275777698761,
    1329.1446622038447, -7862.0639638093353, 994.29876655851274,
    -6497.8770891332251, -36.358860247103983, -40.459517983131569,
    41.808344194956319, -218.41283949684117, 97.17535219181903,
    39.577336416679948, 815.93046726205239, 242.23453478245921,
    1446.7307895789147, -2555.3506824895662, -322.64040020311324,
    -515.31081527966262, -486.73308970746706, -735.79097319404354,
    -275.83819234158085, -7727.5316927768581, 302.01152613472397,
    -430.97259146663146, -565.00897933872648, 33.0087985531847,
    319.49327580499829, 33.495771995482215, 743.88213500893846,
    365.68610227186315, 45.849005262979233, 243.92511582881178,
    -8.0188911143721526, 21237.819944057959, 39.321245975938858,
    99.0445338983116, 7956.9008735118741, 1.8473861963780482, -6.66967036024077,
    133.01299932940344, 86.754237810198987, -26.489305891866724,
    -7459.6808576243948, -10.225110855144049, -7.28915166862947,
    24.598570950271355, -2.1343522028332917, 10.55579977714552,
    441.92960168305888, 150.72430952199028, -5.5559900392883534,
    -2.7051260727430058, -1.7046722558819074, 11.984142608663245,
    -1787.8445649897849, 304.5098392701957, -1354.6484492497475,
    -334.41022978169309, -18.954739917004591, 204.4426065270697,
    -0.21683314932393871, -287.93051144431666, 20.430782730065864,
    23.293032737746231, 7.2887178793534053, -119.41070993025436,
    -40.541942114556363, 24.647007783292111, -5.6779509390101719,
    27.005793812541416, -81.93988434827493, -82.547337640638219,
    -0.14321132068823583, -4.6422663588434823, 55.438311572528193,
    24.847426772227319, -9.2031756717014428, -5.7785377293873257,
    37.805845998250952, -8.2511714928074316, 2.9319970081874489,
    -5.65326481049353, 1.1900161026105365, 12.187898377719941,
    -18.819096708396049, -565.276412134338, -37.169898090038139,
    -364.01532029437749, 146.42054854774545, -296.20186568539469,
    3.9304750170182174, 9.222538697585847, -1.8840400855313637,
    -5.5460323629478809, -5.21699774210701, 0.33752854528731963,
    81.874202795406518, -30.756025691808148, 390.76558320480734,
    -5.3350904513194957, -27.300388463262259, 28.402548957499203,
    18.341371558710076, 28.038067447034706, 15.1048595779864, 64.507152883622666,
    -6.0084852968341558, -16.351893313758048, -3.2274947518353989,
    14.642207675502933, 10.012027708815395, 11.197580050564136,
    -34.475811846554059, -0.61404716104385926, 12.0756074558544,
    -3.0228177074979774, -46.118347473085343, -150.83678155067739,
    28198.412610053307, -100.55678932689263, 0.082536077929807217,
    11045.044766288273, -3.661470690406055, -112.95262885983436,
    19816.683595173421, -18.843551674191925, 120.55633361896777,
    18.87898168219623, -23.966878280967624, 212.55747317827914,
    2.8534962417333345, 98.502522744765272, 5.9622494774307189,
    -0.039402473336269443, -53.700735396378882, -10.638583247175102,
    50.407300923752778, -15.40335131476348, -62.4055425150062,
    1346.6625543542102, -125.70783537203972, -515.08574265995446,
    -15.680297421407344, -4545.93462951481, 182.58289043398881,
    213.57599298329751, 51.894894955751035, -66.3011123055127,
    458.84100464845613, -54.46332424278495, -15.48935160322608,
    136.58143348782667, -53.435645817158225, 34.624561400501726,
    52.101495332518141, 26.9135545111586, 52.735990862100195, 77.408077717985435,
    -52.008601532285823, -247.00678407574645, -18.267785613119941,
    -48.578800637675549, -49.496706838603984, -0.38334214652785131,
    -1.1535849170517827, 26.36548138322879, 38.963141614545833,
    -0.633585214642945, 23.188344489362375, -204.02831548172546,
    262.36972378262874, -34.170143116711, 185.22789754230732,
    -106.54891781070644, -8.0274214734738329, 10.919201707268394,
    8.2904765635090278, 49.807428535722515, 29.416537138817837,
    4.4072702967346711, -362.4717286415825, 375.80262000810558,
    -343.55441444683237, 169.48756226450908, -11.453567303427814,
    100.61109658298432, 90.624663877909768, 62.516413407788342,
    87.241736992120252, -12.615550779702396, 12.966981983050919,
    349.44071607838185, 88.0342767452087, -100.99957686493714,
    -27.623652755454923, 13.724566641577594, -0.46326248426436356,
    -15.230334207114291, -146.8691559344781, 29.428738095214282,
    -67.785844708219685, -131.72596755874355, 139.59750704397857,
    35119.296586634257, -61.240875765372635, -14.957577572559689,
    14582.253687448081, -13064.162263326009, 632.52989822550944,
    42.170511586314518, -206.34175366315941, 285.44059572065038,
    453.99624454800534, -135.36714063657686, 8.7656893106724176,
    -115.57206861933994, -69.322971054121012, -30.45470461251351,
    31.161753317004219, -14.160211655839236, 57.774998782356107,
    11.452017051397723, -84.977078324237524, 197.91888826801639,
    -224.74552423858535, -7760.0769929375956, -11.92344914607906,
    -71.598470375302625, -34.149280708277978, 2393.8278313345058,
    154.41212856333024, -67.193967898625516, -150.68098858429826,
    67.617370060676848, -80.788197392548014, -49.197487907039651,
    58.578008961191451, -947.02196946344, 65.483161271490289, 71.093720286698456,
    106.49687727389018, 72.309678517770791, 611.12698406205936,
    108.61049239341511, -180.09265883993368, 43.20496461275377,
    259.66753873707444, -17.518048229598641, 49.605121252481752,
    22.354056202843513, 36.548960032013618, -35.616699317397824,
    98.896843627903976, 280.54937476032023, -51.026210613118778,
    -1055.502785045584, 252.73022451484337, -383.82413315818525,
    2.0207289575249336, 43.639825996153782, 67.53260064584407,
    -16.002686758872223, 15.37061361015008, 9.4983713968107946,
    -166.49929426358068, 50.896589822251549, -97.898666689213158,
    -189.41258851128029, 205.85695150231436, 121.46443781906774,
    -12.269422187207365, 156.63709269315945, 27.682131966492566,
    403.38871009491538, -50.465105624424311, -122.67200650244872,
    -11.432090121255499, -70.487954137783291, -94.774236766638467,
    53.076102114780063, 139.94103357568517, -36.591771220278652,
    58.491444126579367, -40.213357992347923 };

  // Reset subsysRan breadcrumbs
  srClearBC(offline_snac_SITL_DW.EnabledSubsystem_SubsysRanBC_g);

  // Reset subsysRan breadcrumbs
  srClearBC(offline_snac_SITL_DW.EnabledSubsystem_SubsysRanBC_m);

  // Reset subsysRan breadcrumbs
  srClearBC(offline_snac_SITL_DW.EnabledSubsystem_SubsysRanBC);

  // Reset subsysRan breadcrumbs
  srClearBC(offline_snac_SITL_DW.IfActionSubsystem_SubsysRanBC);

  // Reset subsysRan breadcrumbs
  srClearBC(offline_snac_SITL_DW.IfActionSubsystem1_SubsysRanBC);

  // Reset subsysRan breadcrumbs
  srClearBC(offline_snac_SITL_DW.IfActionSubsystem2_SubsysRanBC);

  // MATLABSystem: '<S3>/SourceBlock'
  b_varargout_1 = uORB_read_step(offline_snac_SITL_DW.obj_f.orbMetadataObj,
    &offline_snac_SITL_DW.obj_f.eventStructObj, &offline_snac_SITL_B.r2, false,
    1.0);

  // Logic: '<S3>/NOT' incorporates:
  //   MATLABSystem: '<S3>/SourceBlock'
  //
  offline_snac_SITL_B.NOT = !b_varargout_1;

  // MATLABSystem: '<S4>/SourceBlock'
  b_varargout_1_0 = uORB_read_step(offline_snac_SITL_DW.obj_k.orbMetadataObj,
    &offline_snac_SITL_DW.obj_k.eventStructObj, &offline_snac_SITL_B.r, false,
    1.0);

  // Logic: '<S4>/NOT' incorporates:
  //   MATLABSystem: '<S4>/SourceBlock'
  //
  offline_snac_SITL_B.NOT_n = !b_varargout_1_0;

  // MATLABSystem: '<S5>/SourceBlock'
  b_varargout_1_1 = uORB_read_step(offline_snac_SITL_DW.obj.orbMetadataObj,
    &offline_snac_SITL_DW.obj.eventStructObj, &offline_snac_SITL_B.r1, false,
    1.0);

  // Logic: '<S5>/NOT' incorporates:
  //   MATLABSystem: '<S5>/SourceBlock'
  //
  offline_snac_SITL_B.NOT_g = !b_varargout_1_1;

  // Outputs for Enabled SubSystem: '<S5>/Enabled Subsystem' incorporates:
  //   EnablePort: '<S18>/Enable'

  // Start for MATLABSystem: '<S5>/SourceBlock'
  if (b_varargout_1_1) {
    // SignalConversion generated from: '<S18>/In1'
    offline_snac_SITL_B.In1_b = offline_snac_SITL_B.r1;
    srUpdateBC(offline_snac_SITL_DW.EnabledSubsystem_SubsysRanBC);
  }

  // End of Outputs for SubSystem: '<S5>/Enabled Subsystem'

  // Sqrt: '<S27>/sqrt' incorporates:
  //   DataTypeConversion: '<Root>/Data Type Conversion1'
  //   Product: '<S28>/Product'
  //   Product: '<S28>/Product1'
  //   Product: '<S28>/Product2'
  //   Product: '<S28>/Product3'
  //   Sum: '<S28>/Sum'

  offline_snac_SITL_B.DataTypeConversion4 = sqrt(((static_cast<real_T>
    (offline_snac_SITL_B.In1_b.q[0]) * offline_snac_SITL_B.In1_b.q[0] +
    static_cast<real_T>(offline_snac_SITL_B.In1_b.q[1]) *
    offline_snac_SITL_B.In1_b.q[1]) + static_cast<real_T>
    (offline_snac_SITL_B.In1_b.q[2]) * offline_snac_SITL_B.In1_b.q[2]) +
    static_cast<real_T>(offline_snac_SITL_B.In1_b.q[3]) *
    offline_snac_SITL_B.In1_b.q[3]);

  // Product: '<S22>/Product' incorporates:
  //   DataTypeConversion: '<Root>/Data Type Conversion1'

  offline_snac_SITL_B.Diff_k = offline_snac_SITL_B.In1_b.q[0] /
    offline_snac_SITL_B.DataTypeConversion4;

  // Product: '<S22>/Product1' incorporates:
  //   DataTypeConversion: '<Root>/Data Type Conversion1'

  offline_snac_SITL_B.DataTypeConversion2 = offline_snac_SITL_B.In1_b.q[1] /
    offline_snac_SITL_B.DataTypeConversion4;

  // Product: '<S22>/Product2' incorporates:
  //   DataTypeConversion: '<Root>/Data Type Conversion1'

  offline_snac_SITL_B.DataTypeConversion3 = offline_snac_SITL_B.In1_b.q[2] /
    offline_snac_SITL_B.DataTypeConversion4;

  // Product: '<S22>/Product3' incorporates:
  //   DataTypeConversion: '<Root>/Data Type Conversion1'

  offline_snac_SITL_B.DataTypeConversion4 = offline_snac_SITL_B.In1_b.q[3] /
    offline_snac_SITL_B.DataTypeConversion4;

  // Fcn: '<S7>/fcn3'
  offline_snac_SITL_B.fcn3 = (offline_snac_SITL_B.DataTypeConversion2 *
    offline_snac_SITL_B.DataTypeConversion4 - offline_snac_SITL_B.Diff_k *
    offline_snac_SITL_B.DataTypeConversion3) * -2.0;

  // If: '<S23>/If' incorporates:
  //   Constant: '<S24>/Constant'
  //   Constant: '<S25>/Constant'

  if (offline_snac_SITL_B.fcn3 > 1.0) {
    // Outputs for IfAction SubSystem: '<S23>/If Action Subsystem' incorporates:
    //   ActionPort: '<S24>/Action Port'

    offline_snac_SITL_B.fcn3 = offline_snac_SITL_P.Constant_Value_mk;

    // End of Outputs for SubSystem: '<S23>/If Action Subsystem'

    // Update for IfAction SubSystem: '<S23>/If Action Subsystem' incorporates:
    //   ActionPort: '<S24>/Action Port'

    // Update for If: '<S23>/If' incorporates:
    //   Constant: '<S24>/Constant'

    srUpdateBC(offline_snac_SITL_DW.IfActionSubsystem_SubsysRanBC);

    // End of Update for SubSystem: '<S23>/If Action Subsystem'
  } else if (offline_snac_SITL_B.fcn3 < -1.0) {
    // Outputs for IfAction SubSystem: '<S23>/If Action Subsystem1' incorporates:
    //   ActionPort: '<S25>/Action Port'

    offline_snac_SITL_B.fcn3 = offline_snac_SITL_P.Constant_Value_h;

    // End of Outputs for SubSystem: '<S23>/If Action Subsystem1'

    // Update for IfAction SubSystem: '<S23>/If Action Subsystem1' incorporates:
    //   ActionPort: '<S25>/Action Port'

    // Update for If: '<S23>/If' incorporates:
    //   Constant: '<S25>/Constant'

    srUpdateBC(offline_snac_SITL_DW.IfActionSubsystem1_SubsysRanBC);

    // End of Update for SubSystem: '<S23>/If Action Subsystem1'
  } else {
    // Update for IfAction SubSystem: '<S23>/If Action Subsystem2' incorporates:
    //   ActionPort: '<S26>/Action Port'

    // Update for If: '<S23>/If'
    srUpdateBC(offline_snac_SITL_DW.IfActionSubsystem2_SubsysRanBC);

    // End of Update for SubSystem: '<S23>/If Action Subsystem2'
  }

  // End of If: '<S23>/If'

  // Fcn: '<S7>/fcn2' incorporates:
  //   Fcn: '<S7>/fcn5'

  offline_snac_SITL_B.C = offline_snac_SITL_B.Diff_k *
    offline_snac_SITL_B.Diff_k;
  offline_snac_SITL_B.B = offline_snac_SITL_B.DataTypeConversion2 *
    offline_snac_SITL_B.DataTypeConversion2;
  offline_snac_SITL_B.SignalConversion_tmp =
    offline_snac_SITL_B.DataTypeConversion3 *
    offline_snac_SITL_B.DataTypeConversion3;
  offline_snac_SITL_B.SignalConversion_tmp_m =
    offline_snac_SITL_B.DataTypeConversion4 *
    offline_snac_SITL_B.DataTypeConversion4;

  // SignalConversion: '<Root>/Signal Conversion' incorporates:
  //   Fcn: '<S7>/fcn1'
  //   Fcn: '<S7>/fcn2'
  //   Trigonometry: '<S21>/Trigonometric Function1'

  offline_snac_SITL_B.SignalConversion = rt_atan2d_snf
    ((offline_snac_SITL_B.DataTypeConversion2 *
      offline_snac_SITL_B.DataTypeConversion3 + offline_snac_SITL_B.Diff_k *
      offline_snac_SITL_B.DataTypeConversion4) * 2.0, ((offline_snac_SITL_B.C +
       offline_snac_SITL_B.B) - offline_snac_SITL_B.SignalConversion_tmp) -
     offline_snac_SITL_B.SignalConversion_tmp_m);

  // SampleTimeMath: '<S31>/TSamp'
  //
  //  About '<S31>/TSamp':
  //   y = u * K where K = 1 / ( w * Ts )
  //
  offline_snac_SITL_B.TSamp = offline_snac_SITL_B.SignalConversion *
    offline_snac_SITL_P.TSamp_WtEt;

  // Trigonometry: '<S21>/trigFcn'
  if (offline_snac_SITL_B.fcn3 > 1.0) {
    offline_snac_SITL_B.fcn3 = 1.0;
  } else if (offline_snac_SITL_B.fcn3 < -1.0) {
    offline_snac_SITL_B.fcn3 = -1.0;
  }

  // SignalConversion: '<Root>/Signal Conversion1' incorporates:
  //   Trigonometry: '<S21>/trigFcn'

  offline_snac_SITL_B.SignalConversion1 = asin(offline_snac_SITL_B.fcn3);

  // SignalConversion: '<Root>/Signal Conversion2' incorporates:
  //   Fcn: '<S7>/fcn4'
  //   Fcn: '<S7>/fcn5'
  //   Trigonometry: '<S21>/Trigonometric Function3'

  offline_snac_SITL_B.SignalConversion2 = rt_atan2d_snf
    ((offline_snac_SITL_B.DataTypeConversion3 *
      offline_snac_SITL_B.DataTypeConversion4 + offline_snac_SITL_B.Diff_k *
      offline_snac_SITL_B.DataTypeConversion2) * 2.0, ((offline_snac_SITL_B.C -
       offline_snac_SITL_B.B) - offline_snac_SITL_B.SignalConversion_tmp) +
     offline_snac_SITL_B.SignalConversion_tmp_m);

  // Outputs for Enabled SubSystem: '<S3>/Enabled Subsystem' incorporates:
  //   EnablePort: '<S16>/Enable'

  // Start for MATLABSystem: '<S3>/SourceBlock'
  if (b_varargout_1) {
    // SignalConversion generated from: '<S16>/In1'
    offline_snac_SITL_B.In1_l = offline_snac_SITL_B.r2;
    srUpdateBC(offline_snac_SITL_DW.EnabledSubsystem_SubsysRanBC_g);
  }

  // End of Outputs for SubSystem: '<S3>/Enabled Subsystem'

  // MATLAB Function: '<Root>/T_matrix' incorporates:
  //   MATLAB Function: '<S6>/MATLAB Function1'

  offline_snac_SITL_B.DataTypeConversion4 = tan
    (offline_snac_SITL_B.SignalConversion1);
  offline_snac_SITL_B.DataTypeConversion2 = cos
    (offline_snac_SITL_B.SignalConversion);
  offline_snac_SITL_B.DataTypeConversion3 = sin
    (offline_snac_SITL_B.SignalConversion);
  offline_snac_SITL_B.Diff_k = cos(offline_snac_SITL_B.SignalConversion1);
  offline_snac_SITL_B.fv[0] = 1.0F;
  offline_snac_SITL_B.fv[3] = static_cast<real32_T>
    (offline_snac_SITL_B.DataTypeConversion3 *
     offline_snac_SITL_B.DataTypeConversion4);
  offline_snac_SITL_B.fv[6] = static_cast<real32_T>
    (offline_snac_SITL_B.DataTypeConversion2 *
     offline_snac_SITL_B.DataTypeConversion4);
  offline_snac_SITL_B.fv[1] = 0.0F;
  offline_snac_SITL_B.fv[4] = static_cast<real32_T>
    (offline_snac_SITL_B.DataTypeConversion2);
  offline_snac_SITL_B.fv[7] = static_cast<real32_T>
    (-offline_snac_SITL_B.DataTypeConversion3);
  offline_snac_SITL_B.fv[2] = 0.0F;
  offline_snac_SITL_B.fv[5] = static_cast<real32_T>
    (offline_snac_SITL_B.DataTypeConversion3 / offline_snac_SITL_B.Diff_k);
  offline_snac_SITL_B.fv[8] = static_cast<real32_T>
    (offline_snac_SITL_B.DataTypeConversion2 / offline_snac_SITL_B.Diff_k);
  for (i = 0; i < 3; i++) {
    offline_snac_SITL_B.w[i] = (offline_snac_SITL_B.fv[i + 3] *
      offline_snac_SITL_B.In1_l.y + offline_snac_SITL_B.fv[i] *
      offline_snac_SITL_B.In1_l.x) + offline_snac_SITL_B.fv[i + 6] *
      offline_snac_SITL_B.In1_l.z;
  }

  // Sum: '<S8>/Subtract2' incorporates:
  //   MATLAB Function: '<Root>/T_matrix'
  //   Sum: '<S31>/Diff'
  //   UnitDelay: '<S31>/UD'
  //
  //  Block description for '<S31>/Diff':
  //
  //   Add in CPU
  //
  //  Block description for '<S31>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_B.Subtract2 = (offline_snac_SITL_B.TSamp -
    offline_snac_SITL_DW.UD_DSTATE) - offline_snac_SITL_B.w[2];

  // SampleTimeMath: '<S29>/TSamp'
  //
  //  About '<S29>/TSamp':
  //   y = u * K where K = 1 / ( w * Ts )
  //
  offline_snac_SITL_B.DataTypeConversion4 =
    offline_snac_SITL_B.SignalConversion1 * offline_snac_SITL_P.TSamp_WtEt_g;

  // Sum: '<S8>/Subtract' incorporates:
  //   MATLAB Function: '<Root>/T_matrix'
  //   Sum: '<S29>/Diff'
  //   UnitDelay: '<S29>/UD'
  //
  //  Block description for '<S29>/Diff':
  //
  //   Add in CPU
  //
  //  Block description for '<S29>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_B.Subtract = (offline_snac_SITL_B.DataTypeConversion4 -
    offline_snac_SITL_DW.UD_DSTATE_j) - offline_snac_SITL_B.w[0];

  // SampleTimeMath: '<S30>/TSamp'
  //
  //  About '<S30>/TSamp':
  //   y = u * K where K = 1 / ( w * Ts )
  //
  offline_snac_SITL_B.Diff_k = offline_snac_SITL_B.SignalConversion2 *
    offline_snac_SITL_P.TSamp_WtEt_p;

  // Sum: '<S8>/Subtract1' incorporates:
  //   MATLAB Function: '<Root>/T_matrix'
  //   Sum: '<S30>/Diff'
  //   UnitDelay: '<S30>/UD'
  //
  //  Block description for '<S30>/Diff':
  //
  //   Add in CPU
  //
  //  Block description for '<S30>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_B.Subtract1 = (offline_snac_SITL_B.Diff_k -
    offline_snac_SITL_DW.UD_DSTATE_i) - offline_snac_SITL_B.w[1];

  // DiscreteIntegrator: '<Root>/Discrete-Time Integrator'
  offline_snac_SITL_B.DiscreteTimeIntegrator =
    offline_snac_SITL_DW.DiscreteTimeIntegrator_DSTATE;

  // Outputs for Enabled SubSystem: '<S4>/Enabled Subsystem' incorporates:
  //   EnablePort: '<S17>/Enable'

  // Start for MATLABSystem: '<S4>/SourceBlock'
  if (b_varargout_1_0) {
    // SignalConversion generated from: '<S17>/In1'
    offline_snac_SITL_B.In1 = offline_snac_SITL_B.r;
    srUpdateBC(offline_snac_SITL_DW.EnabledSubsystem_SubsysRanBC_m);
  }

  // End of Outputs for SubSystem: '<S4>/Enabled Subsystem'

  // DataTypeConversion: '<S6>/Data Type Conversion3'
  offline_snac_SITL_B.sensor_x = offline_snac_SITL_B.In1.x;

  // DataTypeConversion: '<S6>/Data Type Conversion1'
  offline_snac_SITL_B.sensor_y = offline_snac_SITL_B.In1.y;

  // DataTypeConversion: '<S6>/Data Type Conversion2'
  offline_snac_SITL_B.sensor_z = offline_snac_SITL_B.In1.z;

  // DataTypeConversion: '<S6>/Data Type Conversion6'
  offline_snac_SITL_B.sensor_vy = offline_snac_SITL_B.In1.vy;

  // DataTypeConversion: '<S6>/Data Type Conversion4'
  offline_snac_SITL_B.sensor_vz = offline_snac_SITL_B.In1.vz;

  // MATLAB Function: '<S11>/MATLAB Function'
  offline_snac_SITL_B.C = cos(0.2 * offline_snac_SITL_B.DiscreteTimeIntegrator);
  offline_snac_SITL_B.ref_x = 9.81 * offline_snac_SITL_B.C;
  offline_snac_SITL_B.B = sin(0.2 * offline_snac_SITL_B.DiscreteTimeIntegrator);
  offline_snac_SITL_B.ref_y = 9.81 * offline_snac_SITL_B.B;
  offline_snac_SITL_B.ref_z = 10.0 - 4.0 * cos
    (offline_snac_SITL_B.DiscreteTimeIntegrator);
  offline_snac_SITL_B.Saturation2 = -1.9620000000000002 * offline_snac_SITL_B.B;

  // Saturate: '<S11>/Saturation2'
  if (offline_snac_SITL_B.Saturation2 > offline_snac_SITL_P.Saturation2_UpperSat)
  {
    // MATLAB Function: '<S11>/MATLAB Function' incorporates:
    //   Saturate: '<S11>/Saturation2'

    offline_snac_SITL_B.Saturation2 = offline_snac_SITL_P.Saturation2_UpperSat;
  } else if (offline_snac_SITL_B.Saturation2 <
             offline_snac_SITL_P.Saturation2_LowerSat) {
    // MATLAB Function: '<S11>/MATLAB Function' incorporates:
    //   Saturate: '<S11>/Saturation2'

    offline_snac_SITL_B.Saturation2 = offline_snac_SITL_P.Saturation2_LowerSat;
  }

  // End of Saturate: '<S11>/Saturation2'

  // Saturate: '<S6>/Saturation'
  if (offline_snac_SITL_B.Saturation2 > offline_snac_SITL_P.Saturation_UpperSat)
  {
    // Saturate: '<S6>/Saturation'
    offline_snac_SITL_B.r_xdot = offline_snac_SITL_P.Saturation_UpperSat;
  } else if (offline_snac_SITL_B.Saturation2 <
             offline_snac_SITL_P.Saturation_LowerSat) {
    // Saturate: '<S6>/Saturation'
    offline_snac_SITL_B.r_xdot = offline_snac_SITL_P.Saturation_LowerSat;
  } else {
    // Saturate: '<S6>/Saturation'
    offline_snac_SITL_B.r_xdot = offline_snac_SITL_B.Saturation2;
  }

  // End of Saturate: '<S6>/Saturation'

  // MATLAB Function: '<S11>/MATLAB Function'
  offline_snac_SITL_B.Saturation1 = 1.9620000000000002 * offline_snac_SITL_B.C;

  // Saturate: '<S11>/Saturation1'
  if (offline_snac_SITL_B.Saturation1 > offline_snac_SITL_P.Saturation1_UpperSat)
  {
    // MATLAB Function: '<S11>/MATLAB Function' incorporates:
    //   Saturate: '<S11>/Saturation1'

    offline_snac_SITL_B.Saturation1 = offline_snac_SITL_P.Saturation1_UpperSat;
  } else if (offline_snac_SITL_B.Saturation1 <
             offline_snac_SITL_P.Saturation1_LowerSat) {
    // MATLAB Function: '<S11>/MATLAB Function' incorporates:
    //   Saturate: '<S11>/Saturation1'

    offline_snac_SITL_B.Saturation1 = offline_snac_SITL_P.Saturation1_LowerSat;
  }

  // End of Saturate: '<S11>/Saturation1'

  // Saturate: '<S6>/Saturation1'
  if (offline_snac_SITL_B.Saturation1 >
      offline_snac_SITL_P.Saturation1_UpperSat_k) {
    // Saturate: '<S6>/Saturation1'
    offline_snac_SITL_B.r_ydot = offline_snac_SITL_P.Saturation1_UpperSat_k;
  } else if (offline_snac_SITL_B.Saturation1 <
             offline_snac_SITL_P.Saturation1_LowerSat_a) {
    // Saturate: '<S6>/Saturation1'
    offline_snac_SITL_B.r_ydot = offline_snac_SITL_P.Saturation1_LowerSat_a;
  } else {
    // Saturate: '<S6>/Saturation1'
    offline_snac_SITL_B.r_ydot = offline_snac_SITL_B.Saturation1;
  }

  // End of Saturate: '<S6>/Saturation1'

  // MATLAB Function: '<S11>/MATLAB Function'
  offline_snac_SITL_B.Saturation = 4.0 * sin
    (offline_snac_SITL_B.DiscreteTimeIntegrator);

  // Saturate: '<S11>/Saturation'
  if (offline_snac_SITL_B.Saturation > offline_snac_SITL_P.Saturation_UpperSat_d)
  {
    // MATLAB Function: '<S11>/MATLAB Function' incorporates:
    //   Saturate: '<S11>/Saturation'

    offline_snac_SITL_B.Saturation = offline_snac_SITL_P.Saturation_UpperSat_d;
  } else if (offline_snac_SITL_B.Saturation <
             offline_snac_SITL_P.Saturation_LowerSat_j) {
    // MATLAB Function: '<S11>/MATLAB Function' incorporates:
    //   Saturate: '<S11>/Saturation'

    offline_snac_SITL_B.Saturation = offline_snac_SITL_P.Saturation_LowerSat_j;
  }

  // End of Saturate: '<S11>/Saturation'

  // Saturate: '<S6>/Saturation2'
  if (offline_snac_SITL_B.Saturation >
      offline_snac_SITL_P.Saturation2_UpperSat_d) {
    // Saturate: '<S6>/Saturation2'
    offline_snac_SITL_B.r_zdot = offline_snac_SITL_P.Saturation2_UpperSat_d;
  } else if (offline_snac_SITL_B.Saturation <
             offline_snac_SITL_P.Saturation2_LowerSat_h) {
    // Saturate: '<S6>/Saturation2'
    offline_snac_SITL_B.r_zdot = offline_snac_SITL_P.Saturation2_LowerSat_h;
  } else {
    // Saturate: '<S6>/Saturation2'
    offline_snac_SITL_B.r_zdot = offline_snac_SITL_B.Saturation;
  }

  // End of Saturate: '<S6>/Saturation2'

  // Sum: '<S6>/Subtract'
  offline_snac_SITL_B.pos_error[0] = offline_snac_SITL_B.ref_x -
    offline_snac_SITL_B.sensor_x;
  offline_snac_SITL_B.pos_error[1] = offline_snac_SITL_B.ref_y -
    offline_snac_SITL_B.sensor_y;
  offline_snac_SITL_B.pos_error[2] = offline_snac_SITL_B.ref_z -
    offline_snac_SITL_B.sensor_z;
  offline_snac_SITL_B.pos_error[3] = offline_snac_SITL_B.r_xdot -
    offline_snac_SITL_B.In1.vx;
  offline_snac_SITL_B.pos_error[4] = offline_snac_SITL_B.r_ydot -
    offline_snac_SITL_B.sensor_vy;
  offline_snac_SITL_B.pos_error[5] = offline_snac_SITL_B.r_zdot -
    offline_snac_SITL_B.sensor_vz;

  // MATLAB Function: '<S6>/MATLAB Function' incorporates:
  //   MATLAB Function: '<Root>/MATLAB Function9'

  offline_snac_SITL_B.dv[0] = 1.0;
  offline_snac_SITL_B.dv[1] = offline_snac_SITL_B.pos_error[0];
  offline_snac_SITL_B.dv[2] = offline_snac_SITL_B.pos_error[1];
  offline_snac_SITL_B.dv[3] = offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.dv[4] = offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[5] = offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[6] = offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.B = offline_snac_SITL_B.pos_error[0] *
    offline_snac_SITL_B.pos_error[1];
  offline_snac_SITL_B.dv[7] = offline_snac_SITL_B.B;
  offline_snac_SITL_B.SignalConversion_tmp = offline_snac_SITL_B.pos_error[0] *
    offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.dv[8] = offline_snac_SITL_B.SignalConversion_tmp;
  offline_snac_SITL_B.SignalConversion_tmp_m = offline_snac_SITL_B.pos_error[0] *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[9] = offline_snac_SITL_B.SignalConversion_tmp_m;
  offline_snac_SITL_B.fcn3 = offline_snac_SITL_B.pos_error[1] *
    offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.dv[10] = offline_snac_SITL_B.fcn3;
  offline_snac_SITL_B.d7 = offline_snac_SITL_B.pos_error[0] *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[11] = offline_snac_SITL_B.d7;
  offline_snac_SITL_B.d6 = offline_snac_SITL_B.pos_error[1] *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[12] = offline_snac_SITL_B.d6;
  offline_snac_SITL_B.dv[13] = offline_snac_SITL_B.pos_error[0] *
    offline_snac_SITL_B.pos_error[5];
  tmp_0 = offline_snac_SITL_B.pos_error[1] * offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[14] = tmp_0;
  tmp = offline_snac_SITL_B.pos_error[2] * offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[15] = tmp;
  offline_snac_SITL_B.dv[16] = offline_snac_SITL_B.pos_error[1] *
    offline_snac_SITL_B.pos_error[5];
  tmp_1 = offline_snac_SITL_B.pos_error[2] * offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[17] = tmp_1;
  offline_snac_SITL_B.dv[18] = offline_snac_SITL_B.pos_error[2] *
    offline_snac_SITL_B.pos_error[5];
  tmp_2 = offline_snac_SITL_B.pos_error[3] * offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[19] = tmp_2;
  offline_snac_SITL_B.dv[20] = offline_snac_SITL_B.pos_error[3] *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[21] = offline_snac_SITL_B.pos_error[4] *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.d2 = offline_snac_SITL_B.pos_error[1] *
    offline_snac_SITL_B.pos_error[1];
  offline_snac_SITL_B.dv[22] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.pos_error[0];
  offline_snac_SITL_B.d = offline_snac_SITL_B.pos_error[0] *
    offline_snac_SITL_B.pos_error[0];
  offline_snac_SITL_B.dv[23] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.pos_error[1];
  offline_snac_SITL_B.d1 = offline_snac_SITL_B.pos_error[2] *
    offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.dv[24] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.pos_error[0];
  offline_snac_SITL_B.dv[25] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.d3 = offline_snac_SITL_B.pos_error[3] *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[26] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.pos_error[0];
  offline_snac_SITL_B.dv[27] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.pos_error[1];
  offline_snac_SITL_B.dv[28] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[29] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.d4 = offline_snac_SITL_B.pos_error[4] *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[30] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.pos_error[0];
  offline_snac_SITL_B.dv[31] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.pos_error[1];
  offline_snac_SITL_B.dv[32] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[33] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.d5 = offline_snac_SITL_B.pos_error[5] *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[34] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.pos_error[0];
  offline_snac_SITL_B.dv[35] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.pos_error[1];
  offline_snac_SITL_B.dv[36] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.dv[37] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[38] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[39] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[40] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.pos_error[1];
  offline_snac_SITL_B.dv[41] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.dv[42] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[43] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[44] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.dv[45] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[46] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[47] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[48] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[49] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[50] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[51] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[52] = offline_snac_SITL_B.d;
  offline_snac_SITL_B.dv[53] = rt_powd_snf(offline_snac_SITL_B.pos_error[0], 3.0);
  offline_snac_SITL_B.dv[54] = offline_snac_SITL_B.d2;
  offline_snac_SITL_B.dv[55] = rt_powd_snf(offline_snac_SITL_B.pos_error[1], 3.0);
  offline_snac_SITL_B.dv[56] = offline_snac_SITL_B.d1;
  offline_snac_SITL_B.dv[57] = rt_powd_snf(offline_snac_SITL_B.pos_error[2], 3.0);
  offline_snac_SITL_B.dv[58] = offline_snac_SITL_B.d3;
  offline_snac_SITL_B.dv[59] = rt_powd_snf(offline_snac_SITL_B.pos_error[3], 3.0);
  offline_snac_SITL_B.dv[60] = offline_snac_SITL_B.d4;
  offline_snac_SITL_B.dv[61] = rt_powd_snf(offline_snac_SITL_B.pos_error[4], 3.0);
  offline_snac_SITL_B.dv[62] = offline_snac_SITL_B.d5;
  offline_snac_SITL_B.dv[63] = rt_powd_snf(offline_snac_SITL_B.pos_error[5], 3.0);
  offline_snac_SITL_B.dv[64] = offline_snac_SITL_B.B *
    offline_snac_SITL_B.pos_error[2];
  offline_snac_SITL_B.dv[65] = offline_snac_SITL_B.B *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[66] = offline_snac_SITL_B.B *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[67] = offline_snac_SITL_B.SignalConversion_tmp *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[68] = offline_snac_SITL_B.B *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[69] = offline_snac_SITL_B.SignalConversion_tmp *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[70] = offline_snac_SITL_B.fcn3 *
    offline_snac_SITL_B.pos_error[3];
  offline_snac_SITL_B.dv[71] = offline_snac_SITL_B.SignalConversion_tmp *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[72] = offline_snac_SITL_B.SignalConversion_tmp_m *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[73] = offline_snac_SITL_B.fcn3 *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[74] = offline_snac_SITL_B.SignalConversion_tmp_m *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[75] = offline_snac_SITL_B.fcn3 *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[76] = offline_snac_SITL_B.d6 *
    offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[77] = offline_snac_SITL_B.d7 *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[78] = offline_snac_SITL_B.d6 *
    offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[79] = tmp * offline_snac_SITL_B.pos_error[4];
  offline_snac_SITL_B.dv[80] = tmp_0 * offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[81] = tmp * offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[82] = tmp_1 * offline_snac_SITL_B.pos_error[5];
  offline_snac_SITL_B.dv[83] = tmp_2 * offline_snac_SITL_B.pos_error[5];
  for (i = 0; i < 3; i++) {
    offline_snac_SITL_B.uxyz[i] = 0.0;
    for (i_0 = 0; i_0 < 84; i_0++) {
      offline_snac_SITL_B.B = 0.0;
      for (i_1 = 0; i_1 < 6; i_1++) {
        offline_snac_SITL_B.B += y[3 * i_1 + i] * tmp_3[84 * i_1 + i_0];
      }

      offline_snac_SITL_B.uxyz[i] += offline_snac_SITL_B.B *
        offline_snac_SITL_B.dv[i_0];
    }
  }

  offline_snac_SITL_B.ux = offline_snac_SITL_B.uxyz[0];
  offline_snac_SITL_B.uy = offline_snac_SITL_B.uxyz[1];
  offline_snac_SITL_B.uz = offline_snac_SITL_B.uxyz[2];

  // End of MATLAB Function: '<S6>/MATLAB Function'

  // MATLAB Function: '<S6>/MATLAB Function1' incorporates:
  //   Constant: '<S6>/Constant'

  offline_snac_SITL_B.B = offline_snac_SITL_B.uy / offline_snac_SITL_B.uz;
  offline_snac_SITL_B.C = (offline_snac_SITL_B.ux / offline_snac_SITL_B.uz *
    offline_snac_SITL_B.DataTypeConversion3 -
    offline_snac_SITL_B.DataTypeConversion2 * offline_snac_SITL_B.B) /
    (offline_snac_SITL_B.DataTypeConversion3 *
     offline_snac_SITL_B.DataTypeConversion3 +
     offline_snac_SITL_B.DataTypeConversion2 *
     offline_snac_SITL_B.DataTypeConversion2);
  offline_snac_SITL_B.roll = atan((offline_snac_SITL_B.DataTypeConversion2 *
    offline_snac_SITL_B.C + offline_snac_SITL_B.B) /
    offline_snac_SITL_B.DataTypeConversion3);
  offline_snac_SITL_B.DataTypeConversion2 = cos(offline_snac_SITL_B.roll);
  offline_snac_SITL_B.pitch = atan(offline_snac_SITL_B.C *
    offline_snac_SITL_B.DataTypeConversion2);
  offline_snac_SITL_B.ft = offline_snac_SITL_P.Constant_Value_e / (cos
    (offline_snac_SITL_B.pitch) * offline_snac_SITL_B.DataTypeConversion2) *
    -offline_snac_SITL_B.uz;

  // SampleTimeMath: '<S12>/TSamp'
  //
  //  About '<S12>/TSamp':
  //   y = u * K where K = 1 / ( w * Ts )
  //
  offline_snac_SITL_B.DataTypeConversion2 = offline_snac_SITL_B.pitch *
    offline_snac_SITL_P.TSamp_WtEt_a;

  // SampleTimeMath: '<S13>/TSamp'
  //
  //  About '<S13>/TSamp':
  //   y = u * K where K = 1 / ( w * Ts )
  //
  offline_snac_SITL_B.DataTypeConversion3 = offline_snac_SITL_B.roll *
    offline_snac_SITL_P.TSamp_WtEt_c;

  // SampleTimeMath: '<S14>/TSamp'
  //
  //  About '<S14>/TSamp':
  //   y = u * K where K = 1 / ( w * Ts )
  //
  offline_snac_SITL_B.C = offline_snac_SITL_B.SignalConversion *
    offline_snac_SITL_P.TSamp_WtEt_n;

  // Sum: '<S1>/Subtract' incorporates:
  //   DataTypeConversion: '<Root>/Data Type Conversion2'
  //   DataTypeConversion: '<Root>/Data Type Conversion3'
  //   DataTypeConversion: '<Root>/Data Type Conversion4'
  //   MATLAB Function: '<Root>/T_matrix'
  //   Sum: '<S12>/Diff'
  //   Sum: '<S13>/Diff'
  //   Sum: '<S14>/Diff'
  //   UnitDelay: '<S12>/UD'
  //   UnitDelay: '<S13>/UD'
  //   UnitDelay: '<S14>/UD'
  //
  //  Block description for '<S12>/Diff':
  //
  //   Add in CPU
  //
  //  Block description for '<S13>/Diff':
  //
  //   Add in CPU
  //
  //  Block description for '<S14>/Diff':
  //
  //   Add in CPU
  //
  //  Block description for '<S12>/UD':
  //
  //   Store in Global RAM
  //
  //  Block description for '<S13>/UD':
  //
  //   Store in Global RAM
  //
  //  Block description for '<S14>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_B.att_error[0] = offline_snac_SITL_B.pitch -
    offline_snac_SITL_B.SignalConversion1;
  offline_snac_SITL_B.att_error[1] = offline_snac_SITL_B.roll -
    offline_snac_SITL_B.SignalConversion2;
  offline_snac_SITL_B.att_error[2] = offline_snac_SITL_B.SignalConversion -
    offline_snac_SITL_B.SignalConversion;
  offline_snac_SITL_B.att_error[3] = (offline_snac_SITL_B.DataTypeConversion2 -
    offline_snac_SITL_DW.UD_DSTATE_o) - offline_snac_SITL_B.w[0];
  offline_snac_SITL_B.att_error[4] = (offline_snac_SITL_B.DataTypeConversion3 -
    offline_snac_SITL_DW.UD_DSTATE_a) - offline_snac_SITL_B.w[1];
  offline_snac_SITL_B.att_error[5] = (offline_snac_SITL_B.C -
    offline_snac_SITL_DW.UD_DSTATE_m) - offline_snac_SITL_B.w[2];

  // MATLAB Function: '<S1>/MATLAB Function3' incorporates:
  //   MATLAB Function: '<Root>/MATLAB Function9'

  offline_snac_SITL_B.dv[0] = 1.0;
  offline_snac_SITL_B.dv[1] = offline_snac_SITL_B.att_error[0];
  offline_snac_SITL_B.dv[2] = offline_snac_SITL_B.att_error[1];
  offline_snac_SITL_B.dv[3] = offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.dv[4] = offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[5] = offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[6] = offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.B = offline_snac_SITL_B.att_error[0] *
    offline_snac_SITL_B.att_error[1];
  offline_snac_SITL_B.dv[7] = offline_snac_SITL_B.B;
  offline_snac_SITL_B.SignalConversion_tmp = offline_snac_SITL_B.att_error[0] *
    offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.dv[8] = offline_snac_SITL_B.SignalConversion_tmp;
  offline_snac_SITL_B.SignalConversion_tmp_m = offline_snac_SITL_B.att_error[0] *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[9] = offline_snac_SITL_B.SignalConversion_tmp_m;
  offline_snac_SITL_B.fcn3 = offline_snac_SITL_B.att_error[1] *
    offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.dv[10] = offline_snac_SITL_B.fcn3;
  offline_snac_SITL_B.d7 = offline_snac_SITL_B.att_error[0] *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[11] = offline_snac_SITL_B.d7;
  offline_snac_SITL_B.d6 = offline_snac_SITL_B.att_error[1] *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[12] = offline_snac_SITL_B.d6;
  offline_snac_SITL_B.dv[13] = offline_snac_SITL_B.att_error[0] *
    offline_snac_SITL_B.att_error[5];
  tmp_0 = offline_snac_SITL_B.att_error[1] * offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[14] = tmp_0;
  tmp = offline_snac_SITL_B.att_error[2] * offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[15] = tmp;
  offline_snac_SITL_B.dv[16] = offline_snac_SITL_B.att_error[1] *
    offline_snac_SITL_B.att_error[5];
  tmp_1 = offline_snac_SITL_B.att_error[2] * offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[17] = tmp_1;
  offline_snac_SITL_B.dv[18] = offline_snac_SITL_B.att_error[2] *
    offline_snac_SITL_B.att_error[5];
  tmp_2 = offline_snac_SITL_B.att_error[3] * offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[19] = tmp_2;
  offline_snac_SITL_B.dv[20] = offline_snac_SITL_B.att_error[3] *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[21] = offline_snac_SITL_B.att_error[4] *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.d2 = offline_snac_SITL_B.att_error[1] *
    offline_snac_SITL_B.att_error[1];
  offline_snac_SITL_B.dv[22] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.att_error[0];
  offline_snac_SITL_B.d = offline_snac_SITL_B.att_error[0] *
    offline_snac_SITL_B.att_error[0];
  offline_snac_SITL_B.dv[23] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.att_error[1];
  offline_snac_SITL_B.d1 = offline_snac_SITL_B.att_error[2] *
    offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.dv[24] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.att_error[0];
  offline_snac_SITL_B.dv[25] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.d3 = offline_snac_SITL_B.att_error[3] *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[26] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.att_error[0];
  offline_snac_SITL_B.dv[27] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.att_error[1];
  offline_snac_SITL_B.dv[28] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[29] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.d4 = offline_snac_SITL_B.att_error[4] *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[30] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.att_error[0];
  offline_snac_SITL_B.dv[31] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.att_error[1];
  offline_snac_SITL_B.dv[32] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[33] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.d5 = offline_snac_SITL_B.att_error[5] *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[34] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.att_error[0];
  offline_snac_SITL_B.dv[35] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.att_error[1];
  offline_snac_SITL_B.dv[36] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.dv[37] = offline_snac_SITL_B.d *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[38] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[39] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[40] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.att_error[1];
  offline_snac_SITL_B.dv[41] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.dv[42] = offline_snac_SITL_B.d2 *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[43] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[44] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.dv[45] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[46] = offline_snac_SITL_B.d1 *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[47] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[48] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[49] = offline_snac_SITL_B.d3 *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[50] = offline_snac_SITL_B.d5 *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[51] = offline_snac_SITL_B.d4 *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[52] = offline_snac_SITL_B.d;
  offline_snac_SITL_B.dv[53] = rt_powd_snf(offline_snac_SITL_B.att_error[0], 3.0);
  offline_snac_SITL_B.dv[54] = offline_snac_SITL_B.d2;
  offline_snac_SITL_B.dv[55] = rt_powd_snf(offline_snac_SITL_B.att_error[1], 3.0);
  offline_snac_SITL_B.dv[56] = offline_snac_SITL_B.d1;
  offline_snac_SITL_B.dv[57] = rt_powd_snf(offline_snac_SITL_B.att_error[2], 3.0);
  offline_snac_SITL_B.dv[58] = offline_snac_SITL_B.d3;
  offline_snac_SITL_B.dv[59] = rt_powd_snf(offline_snac_SITL_B.att_error[3], 3.0);
  offline_snac_SITL_B.dv[60] = offline_snac_SITL_B.d4;
  offline_snac_SITL_B.dv[61] = rt_powd_snf(offline_snac_SITL_B.att_error[4], 3.0);
  offline_snac_SITL_B.dv[62] = offline_snac_SITL_B.d5;
  offline_snac_SITL_B.dv[63] = rt_powd_snf(offline_snac_SITL_B.att_error[5], 3.0);
  offline_snac_SITL_B.dv[64] = offline_snac_SITL_B.B *
    offline_snac_SITL_B.att_error[2];
  offline_snac_SITL_B.dv[65] = offline_snac_SITL_B.B *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[66] = offline_snac_SITL_B.B *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[67] = offline_snac_SITL_B.SignalConversion_tmp *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[68] = offline_snac_SITL_B.B *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[69] = offline_snac_SITL_B.SignalConversion_tmp *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[70] = offline_snac_SITL_B.fcn3 *
    offline_snac_SITL_B.att_error[3];
  offline_snac_SITL_B.dv[71] = offline_snac_SITL_B.SignalConversion_tmp *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[72] = offline_snac_SITL_B.SignalConversion_tmp_m *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[73] = offline_snac_SITL_B.fcn3 *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[74] = offline_snac_SITL_B.SignalConversion_tmp_m *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[75] = offline_snac_SITL_B.fcn3 *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[76] = offline_snac_SITL_B.d6 *
    offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[77] = offline_snac_SITL_B.d7 *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[78] = offline_snac_SITL_B.d6 *
    offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[79] = tmp * offline_snac_SITL_B.att_error[4];
  offline_snac_SITL_B.dv[80] = tmp_0 * offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[81] = tmp * offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[82] = tmp_1 * offline_snac_SITL_B.att_error[5];
  offline_snac_SITL_B.dv[83] = tmp_2 * offline_snac_SITL_B.att_error[5];
  for (i = 0; i < 3; i++) {
    offline_snac_SITL_B.uxyz[i] = 0.0;
    for (i_0 = 0; i_0 < 84; i_0++) {
      offline_snac_SITL_B.B = 0.0;
      for (i_1 = 0; i_1 < 6; i_1++) {
        offline_snac_SITL_B.B += y_0[3 * i_1 + i] * tmp_4[84 * i_1 + i_0];
      }

      offline_snac_SITL_B.uxyz[i] += offline_snac_SITL_B.B *
        offline_snac_SITL_B.dv[i_0];
    }
  }

  offline_snac_SITL_B.tau_x = offline_snac_SITL_B.uxyz[0];
  offline_snac_SITL_B.tau_y = offline_snac_SITL_B.uxyz[1];
  offline_snac_SITL_B.tau_z = offline_snac_SITL_B.uxyz[2];

  // End of MATLAB Function: '<S1>/MATLAB Function3'
  for (i = 0; i < 4; i++) {
    // Gain: '<S10>/Gain1' incorporates:
    //   Constant: '<S10>/Mixer matrix'
    //   Product: '<S10>/Product1'
    //   SignalConversion generated from: '<S10>/Product1'

    offline_snac_SITL_B.B = floor((((offline_snac_SITL_P.Mixermatrix_Value[i + 4]
      * offline_snac_SITL_B.tau_y + offline_snac_SITL_P.Mixermatrix_Value[i] *
      offline_snac_SITL_B.ft) + offline_snac_SITL_P.Mixermatrix_Value[i + 8] *
      offline_snac_SITL_B.tau_x) + offline_snac_SITL_P.Mixermatrix_Value[i + 12]
      * offline_snac_SITL_B.tau_z) * offline_snac_SITL_P.Gain1_Gain);
    if (rtIsNaN(offline_snac_SITL_B.B) || rtIsInf(offline_snac_SITL_B.B)) {
      offline_snac_SITL_B.B = 0.0;
    } else {
      offline_snac_SITL_B.B = fmod(offline_snac_SITL_B.B, 65536.0);
    }

    offline_snac_SITL_B.Gain1[i] = static_cast<uint16_T>(offline_snac_SITL_B.B <
      0.0 ? static_cast<int32_T>(static_cast<uint16_T>(-static_cast<int16_T>(
      static_cast<uint16_T>(-offline_snac_SITL_B.B)))) : static_cast<int32_T>(
      static_cast<uint16_T>(offline_snac_SITL_B.B)));

    // End of Gain: '<S10>/Gain1'
  }

  // MATLABSystem: '<S10>/PX4 PWM Output' incorporates:
  //   Constant: '<Root>/Reset'
  //   Logic: '<S10>/NOT'

  for (i = 0; i < 8; i++) {
    offline_snac_SITL_B.pwmValue[i] = 0U;
  }

  offline_snac_SITL_B.pwmValue[0] = offline_snac_SITL_B.Gain1[0];
  offline_snac_SITL_B.pwmValue[1] = offline_snac_SITL_B.Gain1[1];
  offline_snac_SITL_B.pwmValue[2] = offline_snac_SITL_B.Gain1[2];
  offline_snac_SITL_B.pwmValue[3] = offline_snac_SITL_B.Gain1[3];
  if (!offline_snac_SITL_P.Reset_Value) {
    if (!offline_snac_SITL_DW.obj_d.isArmed) {
      offline_snac_SITL_DW.obj_d.isArmed = true;
      pwm_arm(&offline_snac_SITL_DW.obj_d.armAdvertiseObj);
    }

    pwm_setServo(offline_snac_SITL_DW.obj_d.servoCount,
                 offline_snac_SITL_DW.obj_d.channelMask,
                 &offline_snac_SITL_B.pwmValue[0],
                 offline_snac_SITL_DW.obj_d.isMain,
                 &offline_snac_SITL_DW.obj_d.actuatorAdvertiseObj);
  } else {
    pwm_disarm(&offline_snac_SITL_DW.obj_d.armAdvertiseObj);
    offline_snac_SITL_DW.obj_d.isArmed = false;
    pwm_resetServo(offline_snac_SITL_DW.obj_d.servoCount,
                   offline_snac_SITL_DW.obj_d.isMain,
                   &offline_snac_SITL_DW.obj_d.actuatorAdvertiseObj);
  }

  if (offline_snac_SITL_DW.obj_d.isMain) {
    if (offline_snac_SITL_P.Reset_Value) {
      pwm_disarm(&offline_snac_SITL_DW.obj_d.armAdvertiseObj);
    } else {
      pwm_arm(&offline_snac_SITL_DW.obj_d.armAdvertiseObj);
    }
  }

  // End of MATLABSystem: '<S10>/PX4 PWM Output'
  // Update for UnitDelay: '<S31>/UD'
  //
  //  Block description for '<S31>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE = offline_snac_SITL_B.TSamp;

  // Update for UnitDelay: '<S29>/UD'
  //
  //  Block description for '<S29>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_j = offline_snac_SITL_B.DataTypeConversion4;

  // Update for UnitDelay: '<S30>/UD'
  //
  //  Block description for '<S30>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_i = offline_snac_SITL_B.Diff_k;

  // Update for DiscreteIntegrator: '<Root>/Discrete-Time Integrator' incorporates:
  //   Constant: '<Root>/Constant'

  offline_snac_SITL_DW.DiscreteTimeIntegrator_DSTATE +=
    offline_snac_SITL_P.DiscreteTimeIntegrator_gainval *
    offline_snac_SITL_P.Constant_Value_o;

  // Update for UnitDelay: '<S12>/UD'
  //
  //  Block description for '<S12>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_o = offline_snac_SITL_B.DataTypeConversion2;

  // Update for UnitDelay: '<S13>/UD'
  //
  //  Block description for '<S13>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_a = offline_snac_SITL_B.DataTypeConversion3;

  // Update for UnitDelay: '<S14>/UD'
  //
  //  Block description for '<S14>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_m = offline_snac_SITL_B.C;

  // Update absolute time for base rate
  // The "clockTick0" counts the number of times the code of this task has
  //  been executed. The absolute time is the multiplication of "clockTick0"
  //  and "Timing.stepSize0". Size of "clockTick0" ensures timer will not
  //  overflow during the application lifespan selected.

  offline_snac_SITL_M->Timing.taskTime0 =
    ((time_T)(++offline_snac_SITL_M->Timing.clockTick0)) *
    offline_snac_SITL_M->Timing.stepSize0;
}

// Model initialize function
void offline_snac_SITL_initialize(void)
{
  // Registration code

  // initialize non-finites
  rt_InitInfAndNaN(sizeof(real_T));
  rtmSetTFinal(offline_snac_SITL_M, 50.0);
  offline_snac_SITL_M->Timing.stepSize0 = 0.001;

  // External mode info
  offline_snac_SITL_M->Sizes.checksums[0] = (1384619421U);
  offline_snac_SITL_M->Sizes.checksums[1] = (1850669361U);
  offline_snac_SITL_M->Sizes.checksums[2] = (2627619305U);
  offline_snac_SITL_M->Sizes.checksums[3] = (2591125466U);

  {
    static const sysRanDType rtAlwaysEnabled = SUBSYS_RAN_BC_ENABLE;
    static RTWExtModeInfo rt_ExtModeInfo;
    static const sysRanDType *systemRan[18];
    offline_snac_SITL_M->extModeInfo = (&rt_ExtModeInfo);
    rteiSetSubSystemActiveVectorAddresses(&rt_ExtModeInfo, systemRan);
    systemRan[0] = &rtAlwaysEnabled;
    systemRan[1] = &rtAlwaysEnabled;
    systemRan[2] = &rtAlwaysEnabled;
    systemRan[3] = (sysRanDType *)
      &offline_snac_SITL_DW.EnabledSubsystem_SubsysRanBC_g;
    systemRan[4] = &rtAlwaysEnabled;
    systemRan[5] = (sysRanDType *)
      &offline_snac_SITL_DW.EnabledSubsystem_SubsysRanBC_m;
    systemRan[6] = &rtAlwaysEnabled;
    systemRan[7] = (sysRanDType *)
      &offline_snac_SITL_DW.EnabledSubsystem_SubsysRanBC;
    systemRan[8] = &rtAlwaysEnabled;
    systemRan[9] = &rtAlwaysEnabled;
    systemRan[10] = &rtAlwaysEnabled;
    systemRan[11] = (sysRanDType *)
      &offline_snac_SITL_DW.IfActionSubsystem_SubsysRanBC;
    systemRan[12] = (sysRanDType *)
      &offline_snac_SITL_DW.IfActionSubsystem1_SubsysRanBC;
    systemRan[13] = (sysRanDType *)
      &offline_snac_SITL_DW.IfActionSubsystem2_SubsysRanBC;
    systemRan[14] = &rtAlwaysEnabled;
    systemRan[15] = &rtAlwaysEnabled;
    systemRan[16] = &rtAlwaysEnabled;
    systemRan[17] = &rtAlwaysEnabled;
    rteiSetModelMappingInfoPtr(offline_snac_SITL_M->extModeInfo,
      &offline_snac_SITL_M->SpecialInfo.mappingInfo);
    rteiSetChecksumsPtr(offline_snac_SITL_M->extModeInfo,
                        offline_snac_SITL_M->Sizes.checksums);
    rteiSetTPtr(offline_snac_SITL_M->extModeInfo, rtmGetTPtr(offline_snac_SITL_M));
  }

  // InitializeConditions for UnitDelay: '<S31>/UD'
  //
  //  Block description for '<S31>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE =
    offline_snac_SITL_P.DiscreteDerivative2_ICPrevScale;

  // InitializeConditions for UnitDelay: '<S29>/UD'
  //
  //  Block description for '<S29>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_j =
    offline_snac_SITL_P.DiscreteDerivative_ICPrevScaled;

  // InitializeConditions for UnitDelay: '<S30>/UD'
  //
  //  Block description for '<S30>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_i =
    offline_snac_SITL_P.DiscreteDerivative1_ICPrevScale;

  // InitializeConditions for DiscreteIntegrator: '<Root>/Discrete-Time Integrator' 
  offline_snac_SITL_DW.DiscreteTimeIntegrator_DSTATE =
    offline_snac_SITL_P.DiscreteTimeIntegrator_IC;

  // InitializeConditions for UnitDelay: '<S12>/UD'
  //
  //  Block description for '<S12>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_o =
    offline_snac_SITL_P.DiscreteDerivative_ICPrevScal_f;

  // InitializeConditions for UnitDelay: '<S13>/UD'
  //
  //  Block description for '<S13>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_a =
    offline_snac_SITL_P.DiscreteDerivative1_ICPrevSca_g;

  // InitializeConditions for UnitDelay: '<S14>/UD'
  //
  //  Block description for '<S14>/UD':
  //
  //   Store in Global RAM

  offline_snac_SITL_DW.UD_DSTATE_m =
    offline_snac_SITL_P.DiscreteDerivative2_ICPrevSca_i;

  // SystemInitialize for Enabled SubSystem: '<S5>/Enabled Subsystem'
  // SystemInitialize for SignalConversion generated from: '<S18>/In1' incorporates:
  //   Outport: '<S18>/Out1'

  offline_snac_SITL_B.In1_b = offline_snac_SITL_P.Out1_Y0_g;

  // End of SystemInitialize for SubSystem: '<S5>/Enabled Subsystem'

  // SystemInitialize for Enabled SubSystem: '<S3>/Enabled Subsystem'
  // SystemInitialize for SignalConversion generated from: '<S16>/In1' incorporates:
  //   Outport: '<S16>/Out1'

  offline_snac_SITL_B.In1_l = offline_snac_SITL_P.Out1_Y0_e;

  // End of SystemInitialize for SubSystem: '<S3>/Enabled Subsystem'

  // SystemInitialize for Enabled SubSystem: '<S4>/Enabled Subsystem'
  // SystemInitialize for SignalConversion generated from: '<S17>/In1' incorporates:
  //   Outport: '<S17>/Out1'

  offline_snac_SITL_B.In1 = offline_snac_SITL_P.Out1_Y0;

  // End of SystemInitialize for SubSystem: '<S4>/Enabled Subsystem'

  // Start for MATLABSystem: '<S3>/SourceBlock'
  offline_snac_SITL_DW.obj_f.matlabCodegenIsDeleted = false;
  offline_snac_SITL_DW.obj_f.isInitialized = 1;
  offline_snac_SITL_DW.obj_f.orbMetadataObj = ORB_ID(sensor_gyro);
  uORB_read_initialize(offline_snac_SITL_DW.obj_f.orbMetadataObj,
                       &offline_snac_SITL_DW.obj_f.eventStructObj);
  offline_snac_SITL_DW.obj_f.isSetupComplete = true;

  // Start for MATLABSystem: '<S4>/SourceBlock'
  offline_snac_SITL_DW.obj_k.matlabCodegenIsDeleted = false;
  offline_snac_SITL_DW.obj_k.isInitialized = 1;
  offline_snac_SITL_DW.obj_k.orbMetadataObj = ORB_ID(vehicle_local_position);
  uORB_read_initialize(offline_snac_SITL_DW.obj_k.orbMetadataObj,
                       &offline_snac_SITL_DW.obj_k.eventStructObj);
  offline_snac_SITL_DW.obj_k.isSetupComplete = true;

  // Start for MATLABSystem: '<S5>/SourceBlock'
  offline_snac_SITL_DW.obj.matlabCodegenIsDeleted = false;
  offline_snac_SITL_DW.obj.isInitialized = 1;
  offline_snac_SITL_DW.obj.orbMetadataObj = ORB_ID(vehicle_attitude);
  uORB_read_initialize(offline_snac_SITL_DW.obj.orbMetadataObj,
                       &offline_snac_SITL_DW.obj.eventStructObj);
  offline_snac_SITL_DW.obj.isSetupComplete = true;

  // Start for MATLABSystem: '<S10>/PX4 PWM Output'
  offline_snac_SITL_DW.obj_d.matlabCodegenIsDeleted = false;
  offline_snac_SITL_DW.obj_d.isSetupComplete = false;
  offline_snac_SITL_DW.obj_d.isInitialized = 1;
  offline_snac_SITL_PWM_setupImpl(&offline_snac_SITL_DW.obj_d, false, false);
  offline_snac_SITL_DW.obj_d.isSetupComplete = true;
}

// Model terminate function
void offline_snac_SITL_terminate(void)
{
  // Terminate for MATLABSystem: '<S3>/SourceBlock'
  if (!offline_snac_SITL_DW.obj_f.matlabCodegenIsDeleted) {
    offline_snac_SITL_DW.obj_f.matlabCodegenIsDeleted = true;
    if ((offline_snac_SITL_DW.obj_f.isInitialized == 1) &&
        offline_snac_SITL_DW.obj_f.isSetupComplete) {
      uORB_read_terminate(&offline_snac_SITL_DW.obj_f.eventStructObj);
    }
  }

  // End of Terminate for MATLABSystem: '<S3>/SourceBlock'

  // Terminate for MATLABSystem: '<S4>/SourceBlock'
  if (!offline_snac_SITL_DW.obj_k.matlabCodegenIsDeleted) {
    offline_snac_SITL_DW.obj_k.matlabCodegenIsDeleted = true;
    if ((offline_snac_SITL_DW.obj_k.isInitialized == 1) &&
        offline_snac_SITL_DW.obj_k.isSetupComplete) {
      uORB_read_terminate(&offline_snac_SITL_DW.obj_k.eventStructObj);
    }
  }

  // End of Terminate for MATLABSystem: '<S4>/SourceBlock'

  // Terminate for MATLABSystem: '<S5>/SourceBlock'
  if (!offline_snac_SITL_DW.obj.matlabCodegenIsDeleted) {
    offline_snac_SITL_DW.obj.matlabCodegenIsDeleted = true;
    if ((offline_snac_SITL_DW.obj.isInitialized == 1) &&
        offline_snac_SITL_DW.obj.isSetupComplete) {
      uORB_read_terminate(&offline_snac_SITL_DW.obj.eventStructObj);
    }
  }

  // End of Terminate for MATLABSystem: '<S5>/SourceBlock'
  // Terminate for MATLABSystem: '<S10>/PX4 PWM Output'
  if (!offline_snac_SITL_DW.obj_d.matlabCodegenIsDeleted) {
    offline_snac_SITL_DW.obj_d.matlabCodegenIsDeleted = true;
    if ((offline_snac_SITL_DW.obj_d.isInitialized == 1) &&
        offline_snac_SITL_DW.obj_d.isSetupComplete) {
      pwm_disarm(&offline_snac_SITL_DW.obj_d.armAdvertiseObj);
      pwm_resetServo(offline_snac_SITL_DW.obj_d.servoCount,
                     offline_snac_SITL_DW.obj_d.isMain,
                     &offline_snac_SITL_DW.obj_d.actuatorAdvertiseObj);
      pwm_close(offline_snac_SITL_DW.obj_d.servoCount,
                &offline_snac_SITL_DW.obj_d.actuatorAdvertiseObj,
                &offline_snac_SITL_DW.obj_d.armAdvertiseObj);
    }
  }

  // End of Terminate for MATLABSystem: '<S10>/PX4 PWM Output'
}

//
// File trailer for generated code.
//
// [EOF]
//
